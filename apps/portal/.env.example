# ===========================================
# Nimble Portal Environment Configuration
# ===========================================

# Supabase Configuration
# ----------------------
# Get these values from your Supabase project dashboard:
# 1. Go to https://supabase.com/dashboard
# 2. Select your project
# 3. Navigate to Settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase Service Role Key (Optional)
# ------------------------------------
# Required only for advanced user management features.
# This key allows updating user metadata (like tags).
# Get from Supabase Dashboard > Settings > API > Service Role key
# 
# Warning: Keep this secret! Service role has admin privileges.
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Deployment URL Configuration
# ----------------------------
# This URL is used for OAuth redirects and API callbacks.
# 
# Development: http://localhost:4000
# Production: https://nimble.game (or your custom domain)
NEXT_PUBLIC_SITE_URL=http://localhost:4000


# Optional: Database Configuration
# --------------------------------
# If using Supabase database features beyond auth, configure these:
# (Most portal features only need the auth configuration above)
# 
# DATABASE_URL=postgresql://postgres:[password]@db.[project-id].supabase.co:5432/postgres

# External App URLs (for production rewrites)
# -------------------------------------------
# Development uses localhost ports, production uses these URLs for Vercel rewrites.
# Configure these to point to your deployed sub-applications.
# 
# Development behavior:
# - Vault: http://localhost:4321
# - Characters: http://localhost:3000 (when implemented)
# - Dice: http://localhost:3002 (when implemented)
# 
# Production behavior (via vercel.json rewrites):
# - /vault/* -> VAULT_APP_URL/*
# - /characters/* -> CHARACTERS_APP_URL/*
# - /dice/* -> DICE_APP_URL/*
VAULT_APP_URL=https://nimble-vault.vercel.app
CHARACTERS_APP_URL=https://nimble-characters.vercel.app
DICE_APP_URL=https://nimble-dice.vercel.app

# Third-party OAuth Integration
# ------------------------------
# Patreon OAuth Configuration
# Get these from https://www.patreon.com/portal/registration/register-clients
# Redirect URI: {NEXT_PUBLIC_SITE_URL}/api/auth/patreon/callback
PATREON_CLIENT_ID=your_patreon_client_id
PATREON_CLIENT_SECRET=your_patreon_client_secret

# Discord OAuth is handled by Supabase
# Configure in Supabase Dashboard > Authentication > Providers > Discord